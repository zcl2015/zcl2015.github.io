
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>SelfBlog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="赵成龙">
    

    
    <meta property="og:type" content="website">
<meta property="og:title" content="SelfBlog">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="SelfBlog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SelfBlog">

    
    <link rel="alternative" href="/atom.xml" title="SelfBlog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="SelfBlog" title="SelfBlog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="SelfBlog">SelfBlog</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:yoursite.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/05/25/Java设计模式简记/" title="Java设计模式简记" itemprop="url">Java设计模式简记</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="赵成龙" target="_blank" itemprop="author">赵成龙</a>
		
  <p class="article-time">
    <time datetime="2018-05-25T08:01:37.000Z" itemprop="datePublished"> Published 2018-05-25</time>
    
  </p>
</header>
    <div class="article-content">
        
        
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/设计模式/">设计模式</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/04/25/Spring依赖注入简记/" title="Spring依赖注入简记" itemprop="url">Spring依赖注入简记</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="赵成龙" target="_blank" itemprop="author">赵成龙</a>
		
  <p class="article-time">
    <time datetime="2018-04-25T07:20:00.000Z" itemprop="datePublished"> Published 2018-04-25</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Spring依赖注入简记</p>
<h2 id="什么是依赖注入"><a href="#什么是依赖注入" class="headerlink" title="什么是依赖注入"></a>什么是依赖注入</h2><p>在Spring框架中，依赖注入(DI)的设计模式是用来定义对象彼此间的依赖。类型如下：</p>
<ul>
<li>构造器注入</li>
<li>Setter方法注入</li>
</ul>
<h2 id="Setter方法注入"><a href="#Setter方法注入" class="headerlink" title="Setter方法注入"></a>Setter方法注入</h2><p><strong>java类</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yiibai.output;</span><br><span class="line"><span class="keyword">import</span> com.yiibai.output.IOutputGenerator;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OutputHelper</span> </span>&#123;</span><br><span class="line">	IOutputGenerator outputGenerator;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">generateOutput</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		outputGenerator.generateOutput();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//DI via setter method</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setOutputGenerator</span><span class="params">(IOutputGenerator outputGenerator)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.outputGenerator = outputGenerator;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>xml配置文件</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">	xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span><br><span class="line">	http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&quot;&gt;</span><br><span class="line"></span><br><span class="line">	&lt;bean id=&quot;OutputHelper&quot; class=&quot;com.yiibai.output.OutputHelper&quot;&gt;</span><br><span class="line">		&lt;property name=&quot;outputGenerator&quot; ref=&quot;CsvOutputGenerator&quot; /&gt;</span><br><span class="line">	&lt;/bean&gt;</span><br><span class="line">    &lt;bean id=&quot;CsvOutputGenerator&quot; class=&quot;com.yiibai.output.impl.CsvOutputGenerator&quot; /&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="构造方法注入"><a href="#构造方法注入" class="headerlink" title="构造方法注入"></a>构造方法注入</h2><p><strong>java类</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yiibai.output;</span><br><span class="line"><span class="keyword">import</span> com.yiibai.output.IOutputGenerator;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OutputHelper</span> </span>&#123;</span><br><span class="line">	IOutputGenerator outputGenerator;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">generateOutput</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		outputGenerator.generateOutput();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//DI via constructor  通过构造方法注入</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">OutputHelper</span><span class="params">(IOutputGenerator outputGenerator)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.outputGenerator = outputGenerator;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>xml配置文件</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">	xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span><br><span class="line">	http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&quot;&gt;</span><br><span class="line">    &lt;bean id=&quot;OutputHelper&quot; class=&quot;com.yiibai.output.OutputHelper&quot;&gt;</span><br><span class="line">		&lt;constructor-arg&gt;</span><br><span class="line">			&lt;ref bean=&quot;JsonOutputGenerator&quot; /&gt;</span><br><span class="line">		&lt;/constructor-arg&gt;</span><br><span class="line">	&lt;/bean&gt;</span><br><span class="line"> </span><br><span class="line">	&lt;bean id=&quot;JsonOutputGenerator&quot; class=&quot;com.yiibai.output.impl.JsonOutputGenerator&quot; /&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="构造器注入有可能带来的注入类型歧义问题"><a href="#构造器注入有可能带来的注入类型歧义问题" class="headerlink" title="构造器注入有可能带来的注入类型歧义问题"></a>构造器注入有可能带来的注入类型歧义问题</h3><p>类型歧义主要是因为存在自动类型转换的问题，如 28， 数据类型既可以是 int也有可能是String。 为此可以 采用指定参数类型的解决（如果好多参数类型都相同，那么可能就与参数顺序有关，如果还是有问题说明你自身代码定义构造方法不合理，此处简单了解即可。）</p>
<p>给出参考文件如下：<br><strong>java类</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yiibai.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Customer</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> String address;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Customer</span><span class="params">(String name, String address, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">		<span class="keyword">this</span>.address = address;</span><br><span class="line">		<span class="keyword">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Customer</span><span class="params">(String name, <span class="keyword">int</span> age, String address)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">		<span class="keyword">this</span>.age = age;</span><br><span class="line">		<span class="keyword">this</span>.address = address;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//getter and setter methods</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">" name : "</span> +name + <span class="string">"\n address : "</span></span><br><span class="line">               + address + <span class="string">"\n age : "</span> + age;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>配置文件如下：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span><br><span class="line">http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&quot;&gt;</span><br><span class="line"></span><br><span class="line">	&lt;bean id=&quot;CustomerBean&quot; class=&quot;com.yiibai.common.Customer&quot;&gt;</span><br><span class="line">	</span><br><span class="line">		&lt;constructor-arg type=&quot;java.lang.String&quot;&gt;</span><br><span class="line">			&lt;value&gt;yiibai&lt;/value&gt;</span><br><span class="line">		&lt;/constructor-arg&gt;</span><br><span class="line">		</span><br><span class="line">		&lt;constructor-arg type=&quot;java.lang.String&quot;&gt;</span><br><span class="line">			&lt;value&gt;188&lt;/value&gt;</span><br><span class="line">		&lt;/constructor-arg&gt;</span><br><span class="line">		</span><br><span class="line">		&lt;constructor-arg type=&quot;int&quot;&gt;</span><br><span class="line">			&lt;value&gt;28&lt;/value&gt;</span><br><span class="line">		&lt;/constructor-arg&gt;</span><br><span class="line">		</span><br><span class="line">	&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Spring框架简记/">Spring框架简记</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/04/25/Spring-JavaConfig简记/" title="Spring JavaConfig简记" itemprop="url">Spring JavaConfig简记</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="赵成龙" target="_blank" itemprop="author">赵成龙</a>
		
  <p class="article-time">
    <time datetime="2018-04-25T06:17:20.000Z" itemprop="datePublished"> Published 2018-04-25</time>
    
  </p>
</header>
    <div class="article-content">
        
        <pre><code>Spring JavaConfig简记
</code></pre><h2 id="Spring-JavaConfig简介"><a href="#Spring-JavaConfig简介" class="headerlink" title="Spring JavaConfig简介"></a>Spring JavaConfig简介</h2><p>   JavaConfig允许开发者将xml中的配置（包括bean定义和其他配置）在Java类中实现，也就是在类中实现和xml配置的相同效果。<br>   简易示例：以下两个文件效果等效。<br><strong>xml文件：</strong><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">   <span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"helloBean"</span> <span class="attr">class</span>=<span class="string">"com.yiibai.hello.impl.HelloWorldImpl"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><strong>java文件：</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yiibai.config;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> com.yiibai.hello.HelloWorld;</span><br><span class="line"><span class="keyword">import</span> com.yiibai.hello.impl.HelloWorldImpl;</span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfig</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">    <span class="meta">@Bean</span>(name=<span class="string">"helloBean"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> HelloWorld <span class="title">helloWorld</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> HelloWorldImpl();</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="Spring-JavaConfig实例"><a href="#Spring-JavaConfig实例" class="headerlink" title="Spring JavaConfig实例"></a>Spring JavaConfig实例</h2><h3 id="java-bean"><a href="#java-bean" class="headerlink" title="java bean"></a>java bean</h3><p><strong>定义接口</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yiibai.hello;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">printHelloWorld</span><span class="params">(String msg)</span></span>;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>定义接口实现类</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yiibai.config;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorldImpl</span> <span class="keyword">implements</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printHelloWorld</span><span class="params">(String msg)</span> </span>&#123;</span><br><span class="line">       System.out.println(<span class="string">"Hello : "</span> + msg);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>定义配置类</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yiibai.config;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfig</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Bean</span>(name=<span class="string">"helloBean"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> HelloWorld <span class="title">helloWorld</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> HelloWorldImpl();</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>定义运行类</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yiibai.config;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	 <span class="comment">// 借助xml配置文件（参考下方的配置） a行</span></span><br><span class="line">	<span class="comment">//ApplicationContext context = new ClassPathXmlApplicationContext("applicationContext.xml");</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 借助javaConfig配置文件 实现的效果和上方相同。 b行</span></span><br><span class="line">	ApplicationContext context = <span class="keyword">new</span> AnnotationConfigApplicationContext(AppConfig.class);</span><br><span class="line">	HelloWorld obj = (HelloWorld) context.getBean(<span class="string">"helloBean"</span>);</span><br><span class="line">	obj.printHelloWorld(<span class="string">"Spring Java Config"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>关于上方的说明：</strong></p>
<ul>
<li>加载xml的配置文件时需要使用a行下方的代码，而加载java配置信息时需要使用b行下方的代码。</li>
</ul>
<p><strong>和上方配置类效果相同的配置文件</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans</span><br><span class="line">	xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">	xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans </span><br><span class="line">	http://www.springframework.org/schema/beans/spring-beans-3.1.xsd&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;bean id=&quot;helloBean&quot; class=&quot;com.yiibai.config.HelloWorldImpl&quot;/&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="运行结果："><a href="#运行结果：" class="headerlink" title="运行结果："></a>运行结果：</h3><p><img src="https://s1.ax1x.com/2018/04/25/C1POld.png" alt="C1POld.png"></p>
<h3 id="关于javaConfig的复杂配置（例如一个类内部含有一个类变量，如何给变量赋值—》todo）"><a href="#关于javaConfig的复杂配置（例如一个类内部含有一个类变量，如何给变量赋值—》todo）" class="headerlink" title="关于javaConfig的复杂配置（例如一个类内部含有一个类变量，如何给变量赋值—》todo）"></a>关于javaConfig的复杂配置（例如一个类内部含有一个类变量，如何给变量赋值—》todo）</h3><h2 id="未完待续"><a href="#未完待续" class="headerlink" title="未完待续"></a>未完待续</h2>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Spring框架简记/">Spring框架简记</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/04/24/Spring自动装配Bean简记/" title="Spring自动装配Bean简记" itemprop="url">Spring自动装配Bean简记</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="赵成龙" target="_blank" itemprop="author">赵成龙</a>
		
  <p class="article-time">
    <time datetime="2018-04-24T07:21:20.000Z" itemprop="datePublished"> Published 2018-04-24</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Spring自动装配Bean简记</p>
<h2 id="Spring由类型-Type-自动装配"><a href="#Spring由类型-Type-自动装配" class="headerlink" title="Spring由类型(Type)自动装配"></a>Spring由类型(Type)自动装配</h2><p>   在Spring中，“类型自动装配”的意思是如果<strong><em>一个bean的数据类型</em></strong>与<strong><em>其它bean属性的数据类型</em></strong>相同，将自动兼容装配它。<br>   在本例中，“persion” bean以“ability”类数据类型作为属性，Spring会找到与ability类相同的数据类型，并自动装配它的Bean。如果没有匹配找到，它什么也不做。</p>
<ul>
<li>启动自动装配模式，需要确保只有Bean 只有一个唯一的数据类型声明。</li>
<li>如果没有任何匹配，类数据类型将会用默认值null。</li>
</ul>
<h3 id="示例代码如下"><a href="#示例代码如下" class="headerlink" title="示例代码如下"></a>示例代码如下</h3><p><strong>Person类</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yiibai.zhuangpei;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Ability ability; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Ability <span class="title">getAbility</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> ability;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAbility</span><span class="params">(Ability ability)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.ability = ability;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"Person [ability="</span> + ability + <span class="string">"]"</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>Ability类</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yiibai.zhuangpei;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Ability</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String skill;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getSkill</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> skill;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSkill</span><span class="params">(String skill)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.skill = skill;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"Ability [skill="</span> + skill + <span class="string">"]"</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>配置文件</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans</span><br><span class="line">	xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">	xmlns:p=&quot;http://www.springframework.org/schema/p&quot;</span><br><span class="line">	xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd&quot;&gt;</span><br><span class="line">    </span><br><span class="line">	&lt;bean id=&quot;person&quot; class=&quot;com.yiibai.zhuangpei.Person&quot; autowire=&quot;byType&quot; /&gt; // a行</span><br><span class="line">	&lt;!--&lt;bean id=&quot;person&quot; class=&quot;com.yiibai.common.Person&quot;&gt;</span><br><span class="line">		&lt;property name=&quot;ability&quot; ref=&quot;invisible&quot; /&gt;</span><br><span class="line">	&lt;/bean&gt;	--&gt; // b行</span><br><span class="line">	&lt;!--&lt;bean id=&quot;steal&quot; class=&quot;com.yiibai.zhuangpei.Ability&quot; &gt;</span><br><span class="line">		&lt;property name=&quot;skill&quot; value=&quot;Steal&quot; /&gt;</span><br><span class="line">	&lt;/bean&gt;--&gt; // c行</span><br><span class="line">	</span><br><span class="line">   &lt;bean id=&quot;invisible&quot; class=&quot;com.yiibai.zhuangpei.Ability&quot; &gt;</span><br><span class="line">		&lt;property name=&quot;skill&quot; value=&quot;Invisible&quot; /&gt;</span><br><span class="line">	&lt;/bean&gt; //d行</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></p>
<p>关于上方的说明：</p>
<ul>
<li>通常情况下使用b行代码即可，此处使用a行的模式</li>
<li>需要确保只有Bean 只有一个唯一的数据类型声明，因此c行被注销。</li>
<li>“person” bean中存在一个Ability类的数据，这个数据与d行中定义的bean的数据类型相匹配。</li>
</ul>
<p><strong>运行类</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package com.yiibai.zhuangpei;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line">public class App &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		ApplicationContext context = new ClassPathXmlApplicationContext(</span><br><span class="line">				&quot;applicationContext.xml&quot;);</span><br><span class="line">        Person person = (Person) context.getBean(&quot;person&quot;);</span><br><span class="line">		System.out.println(person);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>以下是运行结果：</p>
<h3 id="运行结果截图"><a href="#运行结果截图" class="headerlink" title="运行结果截图"></a>运行结果截图</h3><p><img src="https://s1.ax1x.com/2018/04/24/Cl8kKP.png" alt="Cl8kKP.png"></p>
<p>如果没有匹配，结果如下图<br><img src="https://s1.ax1x.com/2018/04/24/Cl8Eb8.png" alt="Cl8Eb8.png"></p>
<h2 id="Spring由名称-Name-自动装配"><a href="#Spring由名称-Name-自动装配" class="headerlink" title="Spring由名称(Name)自动装配"></a>Spring由名称(Name)自动装配</h2><p>   在SPringz中，“按名称自动装配”是指，如果<strong><em>一个bean的名称</em></strong>与<strong><em>其他bean属性的名称</em></strong>是一样的，那么将自动装配它。<br>   在本例中，“persion” bean公开一个“ability”属性，Spring会找到与”ability”bean在当前容器中，并自动装配它的Bean。如果没有匹配找到，它什么也不做。（沿用上一个例子的代码，仅修改配置文件）。</p>
<h3 id="示例代码如下-1"><a href="#示例代码如下-1" class="headerlink" title="示例代码如下"></a>示例代码如下</h3><p><strong>配置文件如下</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans</span><br><span class="line">	xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">	xmlns:p=&quot;http://www.springframework.org/schema/p&quot;</span><br><span class="line">	xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd&quot;&gt;</span><br><span class="line">    </span><br><span class="line">	&lt;bean id=&quot;person&quot; class=&quot;com.yiibai.zhuangpei.Person&quot; autowire=&quot;byName&quot; /&gt; // a行</span><br><span class="line">    &lt;!-- 通用模式</span><br><span class="line">    &lt;bean id=&quot;person&quot; class=&quot;com.yiibai.common.Person&quot;&gt;</span><br><span class="line">		&lt;property name=&quot;ability&quot; ref=&quot;ability&quot; /&gt;</span><br><span class="line">	&lt;/bean&gt;</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;bean id=&quot;ability&quot; class=&quot;com.yiibai.zhuangpei.Ability&quot; &gt;</span><br><span class="line">		&lt;property name=&quot;skill&quot; value=&quot;Invisible&quot; /&gt;</span><br><span class="line">	&lt;/bean&gt; //e行</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></p>
<p>关于上方的说明：</p>
<ul>
<li>“person” bean中存在一个Ability类的数据，这个数据与d行中定义的bean的数据类型相匹配。</li>
<li>注意这里的byName名称匹配指的是相对于类的名称匹配，而不是变量的名称匹配。<br>具体为上方e行中的 id=”ability”针对的是Ability类（类的首字母小写），而不是 Ability ability。<br>将Person类中的Ability ability 改为 Ability sky，并将e行代码中的ability改为sky 并不会出现预期的效果。</li>
</ul>
<h3 id="运行结果截图-1"><a href="#运行结果截图-1" class="headerlink" title="运行结果截图"></a>运行结果截图</h3><p><img src="https://s1.ax1x.com/2018/04/24/Cl8kKP.png" alt="Cl8kKP.png"></p>
<p>修改为sky后<br><img src="https://s1.ax1x.com/2018/04/24/Cl8Eb8.png" alt="Cl8Eb8.png"></p>
<h2 id="Spring由构造方法自动装配"><a href="#Spring由构造方法自动装配" class="headerlink" title="Spring由构造方法自动装配"></a>Spring由构造方法自动装配</h2><p>在Spring中，可以使用“通过构造自动装配”，也就是按构造函数的参数类型自动装配。 如果<strong>一个bean的数据类型</strong>与<strong>其他bean的构造器参数的数据类型</strong>是相同的，那么将自动装配。<br>规则和上方的ByType类似。</p>
<h3 id="示例代码如下-2"><a href="#示例代码如下-2" class="headerlink" title="示例代码如下"></a>示例代码如下</h3><p><strong>Person类代码修改如下</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yiibai.zhuangpei;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Ability ability; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(Ability ability)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.ability = ability;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"Person [ability="</span> + ability + <span class="string">"]"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>配置文件修改如下</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans</span><br><span class="line">	xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">	xmlns:p=&quot;http://www.springframework.org/schema/p&quot;</span><br><span class="line">	xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans        </span><br><span class="line">	http://www.springframework.org/schema/beans/spring-beans-3.1.xsd&quot;&gt;</span><br><span class="line">    </span><br><span class="line">	&lt;bean id=&quot;person&quot; class=&quot;com.yiibai.zhuangpei.Person&quot; autowire=&quot;constructor&quot; /&gt; </span><br><span class="line">    &lt;!-- 构造器的通用模式</span><br><span class="line">   &lt;bean id=&quot;person&quot; class=&quot;com.yiibai.zhuangpei.Person&quot;&gt;</span><br><span class="line">		&lt;constructor-arg&gt;</span><br><span class="line">			&lt;ref bean=&quot;haha&quot; /&gt;</span><br><span class="line">		&lt;/constructor-arg&gt;</span><br><span class="line">	&lt;/bean&gt;</span><br><span class="line">    --&gt;</span><br><span class="line">   &lt;!-- &lt;bean id=&quot;haha&quot; class=&quot;com.yiibai.zhuangpei.Ability&quot; &gt;  --&gt; //f行</span><br><span class="line">    &lt;bean class=&quot;com.yiibai.zhuangpei.Ability&quot; &gt;</span><br><span class="line">		&lt;property name=&quot;skill&quot; value=&quot;Invisible&quot; /&gt;</span><br><span class="line">	&lt;/bean&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></p>
<p>关于上方的说明：</p>
<ul>
<li>当使用autowire=”constructor”时其使用规则与byType一样，此时下方的关于Ability类的bean完全不需要设置id属性。</li>
<li>上方关于构造器的通用模式使用时添加一个id属性即可，如上方f行所示。</li>
</ul>
<h2 id="Spring通过自动检测自动装配"><a href="#Spring通过自动检测自动装配" class="headerlink" title="Spring通过自动检测自动装配"></a>Spring通过自动检测自动装配</h2><p>在Spring，“通过自动检测自动装配”，指的是先构造器后其他。</p>
<h3 id="示例代码如下-3"><a href="#示例代码如下-3" class="headerlink" title="示例代码如下"></a>示例代码如下</h3><p><strong>Person类代码修改如下</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yiibai.zhuangpei;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Ability ability;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(Ability ability)</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"autowiring by constructor"</span>);</span><br><span class="line">		<span class="keyword">this</span>.ability = ability; <span class="comment">// h行</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> Ability <span class="title">getAbility</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> ability;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAbility</span><span class="params">(Ability ability)</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"autowiring by type"</span>);</span><br><span class="line">		<span class="keyword">this</span>.ability = ability;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"Person [ability="</span> + ability + <span class="string">"]"</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>配置文件修改如下</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans</span><br><span class="line">	xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">	xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span><br><span class="line">	    http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&quot;&gt;</span><br><span class="line">	</span><br><span class="line">	&lt;bean id=&quot;person&quot; class=&quot;com.yiibai.zhuangpei.Person&quot; autowire=&quot;autodetect&quot;/&gt;</span><br><span class="line"></span><br><span class="line">	&lt;bean  class=&quot;com.yiibai.zhuangpei.Ability&quot; &gt;</span><br><span class="line">		&lt;property name=&quot;skill&quot; value=&quot;Invisible&quot; /&gt;</span><br><span class="line">	&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></p>
<p>关于上方的说明：</p>
<ul>
<li>需要将 <a href="http://www.springframework.org/schema/beans/spring-beans-3.1.xsd替换为http://www.springframework.org/schema/beans/spring-beans-2.5.xsd。因为在3.1.xsd中不存在autodetect选项。" target="_blank" rel="noopener">http://www.springframework.org/schema/beans/spring-beans-3.1.xsd替换为http://www.springframework.org/schema/beans/spring-beans-2.5.xsd。因为在3.1.xsd中不存在autodetect选项。</a></li>
<li>这个方法用的比较少，自己看看就好。</li>
</ul>
<h3 id="运行结果如下"><a href="#运行结果如下" class="headerlink" title="运行结果如下"></a>运行结果如下</h3><p> 存在构造方法时：<br> <img src="https://s1.ax1x.com/2018/04/25/CljLN9.png" alt="CljLN9.png"></p>
<p> 不存在构造方法时:<br> <img src="https://s1.ax1x.com/2018/04/25/Cljv1x.png" alt="Cljv1x.png"></p>
<h2 id="Spring使用-Autowired注解自动装配"><a href="#Spring使用-Autowired注解自动装配" class="headerlink" title="Spring使用@Autowired注解自动装配"></a>Spring使用@Autowired注解自动装配</h2><p>在上方的例子中都是基于XML的配置，而此处的配置是基于java文件（java文件为主）和xml文件（添加一些简单的配置)。</p>
<ul>
<li>Java文件中添加@Autowired” 来自动装配。可以使用 @Autowired注解通过 setter 方法， 构造函数 或字段 自动装配Bean。</li>
<li>xml文件中注册“AutowiredAnnotationBeanPostProcessor’ 包括以下两种方式<ol>
<li>添加 Spring 上下文和&lt;context:annotation-config /&gt;在bean配置文件中。</li>
<li>添加AutowiredAnnotationBeanPostProcessor.</li>
</ol>
</li>
</ul>
<h3 id="示例代码如下-4"><a href="#示例代码如下-4" class="headerlink" title="示例代码如下"></a>示例代码如下</h3><p><strong>Person类代码修改如下</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yiibai.host;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="comment">// @Autowired  pos1</span></span><br><span class="line">	<span class="keyword">private</span> Ability ability;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Ability <span class="title">getAbility</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> ability;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// @Autowired  pos2</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAbility</span><span class="params">(Ability ability)</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"autowiring by type"</span>);</span><br><span class="line">		<span class="keyword">this</span>.ability = ability;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="meta">@Autowired</span>  <span class="comment">// pos3</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(Ability ability)</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"autowiring by constructor"</span>);</span><br><span class="line">		<span class="keyword">this</span>.ability = ability;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"Person [ability="</span> + ability + <span class="string">"]"</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>如上所示，根据测试@Autowired的添加位置可以在上方的三个位置pos，<strong>但是当存在构造方法只能使用pos3</strong>，否则我下方的配置文件中会提示错误。</p>
<p><strong>配置文件方式1：基于Spring 上下文和context:annotation-config</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">	   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">	   xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">	   xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span><br><span class="line">         http://www.springframework.org/schema/beans/spring-beans-2.5.xsd </span><br><span class="line">         http://www.springframework.org/schema/context </span><br><span class="line">         http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;</span><br><span class="line">	&lt;context:annotation-config /&gt;</span><br><span class="line">	&lt;bean id=&quot;person&quot; class=&quot;com.yiibai.host.Person&quot;/&gt;</span><br><span class="line">		</span><br><span class="line">	&lt;bean class=&quot;com.yiibai.host.Ability&quot; &gt;</span><br><span class="line">		&lt;property name=&quot;skill&quot; value=&quot;Invisible&quot; /&gt;</span><br><span class="line">	&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>配置文件方式2：基于AutowiredAnnotationBeanPostProcessor</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">	   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">	   xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span><br><span class="line">         http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&quot;&gt;</span><br><span class="line">	&lt;bean class=&quot;org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor&quot;&gt;</span><br><span class="line">	&lt;bean id=&quot;person&quot; class=&quot;com.yiibai.host.Person&quot;/&gt;</span><br><span class="line">		</span><br><span class="line">	&lt;bean  class=&quot;com.yiibai.host.Ability&quot; &gt; // 相关的bean</span><br><span class="line">		&lt;property name=&quot;skill&quot; value=&quot;Invisible&quot; /&gt;</span><br><span class="line">	&lt;/bean&gt; // i行</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></p>
<p>关于上方两种配置方式的说明：<br>上方中的i行并没有设置id,这说明@Autowired自动装配规则是基于byType。在之前基于xml的例子中需要保证相关的bean的唯一性（bean不存在或者bean只有一个），而此处有不同。体现在以下两个方面:</p>
<ol>
<li>相关的bean的个数一般不能为0，因为默认情况下，@Autowired将执行相关检查，以确保属性已经装配正常。当Spring无法找到匹配的Bean装配，它会抛出异常。要解决这个问题，可以通过 @Autowired 的“required” 属性 设 置为false来禁用此检查功能。<br>基于此，可以默认使用 @Autowired(required = false)来避免检查。</li>
<li>相关bean的个数可以是多个（这也是这种配置方式由于xml的地方）。添加@Qualifier即可（往下看）。</li>
</ol>
<h3 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h3><p><strong>关于@Qualifier</strong><br>  @Qualifier注解用来控制bean应在字段上自动装配。该注解不支持构造方法（但是如果java类中存在构造方法时需要将@Autowired用在构造方法上，因此当使用@Qualifier注解时不要出现构造方法）<br>  <strong>java代码修改如下：</strong></p>
<pre><code>package com.yiibai.host;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Qualifier;
public class Person
{
@Autowired
@Qualifier(&quot;hello&quot;)  // pos1
private Ability ability;

public Ability getAbility() {
    return ability;
}

@Autowired
@Qualifier(&quot;hello&quot;)  // pos2
public void setAbility(Ability ability) {
    System.out.println(&quot;autowiring by type&quot;);
    this.ability = ability;
}
// @Autowired
// @Qualifier(&quot;hello&quot;)
/*public Person(Ability ability) {
    System.out.println(&quot;autowiring by constructor&quot;);
    this.ability = ability;
}*/    // pos3

@Override
public String toString() {
    return &quot;Person [ability=&quot; + ability + &quot;]&quot;;
  }
}
</code></pre><p><strong><em>关于上方的说明：</em></strong></p>
<ul>
<li>注解的位置可以是pos1或pos2,使用@Qualifier注解时 pos3的整段代码不要出现。</li>
</ul>
<p><strong>配置文件修改如下：</strong></p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
   xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
   xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
     http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
     http://www.springframework.org/schema/context
     http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;
&lt;context:annotation-config /&gt;
&lt;bean id=&quot;person&quot; class=&quot;com.yiibai.host.Person&quot;/&gt;

&lt;bean id=&quot;halo&quot; class=&quot;com.yiibai.host.Ability&quot; &gt;
    &lt;property name=&quot;skill&quot; value=&quot;Invisible&quot; /&gt;
&lt;/bean&gt;
&lt;bean id=&quot;hello&quot; class=&quot;com.yiibai.host.Ability&quot; &gt;
    &lt;property name=&quot;skill&quot; value=&quot;Steel&quot; /&gt;
&lt;/bean&gt;
&lt;/beans&gt;
</code></pre><p> <strong>关于此处的说明：</strong></p>
<ul>
<li>此处的配置文件采用上方配置方式1，经测试配置方式2运行有点问题，时间问题不再查看（todo） </li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Spring框架简记/">Spring框架简记</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/04/24/Spring简介及入门示例/" title="Spring简介及入门示例" itemprop="url">Spring简介及入门示例</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="赵成龙" target="_blank" itemprop="author">赵成龙</a>
		
  <p class="article-time">
    <time datetime="2018-04-24T05:05:23.000Z" itemprop="datePublished"> Published 2018-04-24</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>   Spring简记</p>
<h2 id="Spring简介"><a href="#Spring简介" class="headerlink" title="Spring简介"></a>Spring简介</h2><p>  Spring框架，由Rod Johnson开发，是一个非常强大的反转控制(IOC)框架，用来帮助分离项目组件之间的依赖关系.</p>
<p>  <strong>框架如下图所示：</strong><br>   [<img src="https://s1.ax1x.com/2018/04/24/ClK8bQ.png" alt="ClK8bQ.png">]</p>
<ul>
<li>IoC Container: 这是最重要的，也是最基础的， Spring的基础。它的作用是配置和Java对象的生命周期管理。</li>
<li>DAO, ORM, AOP, WEB: 该模块可用于将工具或框架集成到了Spring。</li>
</ul>
<h2 id="Spring入门示例"><a href="#Spring入门示例" class="headerlink" title="Spring入门示例"></a>Spring入门示例</h2><h3 id="创建一个接口以及与这个接口有关的service类"><a href="#创建一个接口以及与这个接口有关的service类" class="headerlink" title="创建一个接口以及与这个接口有关的service类"></a>创建一个接口以及与这个接口有关的service类</h3><p>接口代码如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">()</span></span>;</span><br><span class="line">     </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>service类代码如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorldService</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> HelloWorld helloWorld;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HelloWorldService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHelloWorld</span><span class="params">(HelloWorld helloWorld)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.helloWorld = helloWorld;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> HelloWorld <span class="title">getHelloWorld</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.helloWorld;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>如上图所示Service类将上方的接口以类变量的形式引入自身。</p>
<h3 id="创建上方接口的不同实现类，本例中定义两个实现类"><a href="#创建上方接口的不同实现类，本例中定义两个实现类" class="headerlink" title="创建上方接口的不同实现类，本例中定义两个实现类"></a>创建上方接口的不同实现类，本例中定义两个实现类</h3><p>SpringHelloWorld代码如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringHelloWorld</span> <span class="keyword">implements</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Spring Say Hello!!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>StrutsHelloWorld代码如下：</p>
<pre><code>public class StrutsHelloWorld implements HelloWorld {
    @Override
    public void sayHello() {
        System.out.println(&quot;Struts Say Hello!!&quot;);
    }
}
</code></pre><p>下面写配置文件</p>
<h3 id="定义配置文件"><a href="#定义配置文件" class="headerlink" title="定义配置文件"></a>定义配置文件</h3><p>默认的文件路径位置为src/main/resources,此处定义的文件名称为beans.xml</p>
<pre><code>&lt;beanid=&quot;springHelloWorld&quot;
    class=&quot;com.yiibai.tutorial.spring.helloworld.impl.SpringHelloWorld&quot;&gt;&lt;/bean&gt;
&lt;beanid=&quot;strutsHelloWorld&quot;
    class=&quot;com.yiibai.tutorial.spring.helloworld.impl.StrutsHelloWorld&quot;&gt;&lt;/bean&gt;

&lt;beanid=&quot;helloWorldService&quot;
    class=&quot;com.yiibai.tutorial.spring.helloworld.HelloWorldService&quot;&gt;
    &lt;propertyname=&quot;helloWorld&quot;ref=&quot;springHelloWorld&quot;/&gt;
&lt;/bean&gt;
</code></pre><p>如上所示：</p>
<ol>
<li>最上方分别定义了接口的两个实现类的bean。</li>
<li>下方定义了Service类的bean，该bean通过propertyname为该类内部的变量实现复制操作。</li>
<li>&lt;propertyname=”xxx” ref=”beanid”/&gt; 注入类—》适用于变量类型为引用类<br>&lt;propertyname=”xxx” value=”xxx”/&gt; 注入具体的值。—》适用于变量类型为基本类型</li>
</ol>
<h3 id="创建运行文件"><a href="#创建运行文件" class="headerlink" title="创建运行文件"></a>创建运行文件</h3><p>HelloProgram类如下：</p>
<pre><code>public class HelloProgram {
public static void main(String[] args) {

    ApplicationContext context =
            new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);

    HelloWorldService service =
         (HelloWorldService) context.getBean(&quot;helloWorldService&quot;);

    HelloWorld hw= service.getHelloWorld();

    hw.sayHello();
    }
}
</code></pre><p>如上所示：</p>
<ol>
<li>加载配置文件，并从配置文件中获取Service类的bean（需要强制转换）。</li>
<li>通过Service类的内部方法获取到接口的具体实现类</li>
<li>调用实现类的方法。</li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Spring框架简记/">Spring框架简记</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/04/23/SpringMVC视图解析器/" title="SpringMVC视图解析器" itemprop="url">SpringMVC视图解析器</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="赵成龙" target="_blank" itemprop="author">赵成龙</a>
		
  <p class="article-time">
    <time datetime="2018-04-23T08:19:27.000Z" itemprop="datePublished"> Published 2018-04-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <pre><code>SpringMVC视图解析器
</code></pre><h2 id="Spring-MVC内部资源视图解析器"><a href="#Spring-MVC内部资源视图解析器" class="headerlink" title="Spring MVC内部资源视图解析器"></a>Spring MVC内部资源视图解析器</h2><p>配置文件如下：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefix"</span> <span class="attr">value</span>=<span class="string">"/WEB-INF/jsp/"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suffix"</span> <span class="attr">value</span>=<span class="string">".jsp"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>使用上面的配置：</p>
<pre><code>对于/hello请求，DispatcherServlet会将请求转发到前缀+ view-name + suffix = /WEB-INF/jsp/hello.jsp。
</code></pre><h2 id="Spring-MVC-Xml视图解析器"><a href="#Spring-MVC-Xml视图解析器" class="headerlink" title="Spring MVC Xml视图解析器"></a>Spring MVC Xml视图解析器</h2><p>配置文件如下：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.XmlViewResolver"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"location"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">value</span>&gt;</span>/WEB-INF/views.xml<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>views.xml文件配置如下：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"hello"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.JstlView"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"/WEB-INF/jsp/hello.jsp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>使用上面的配置：</p>
<pre><code>对于/hello请求，DispatcherServlet会将请求转发到由view.xml中定义的hello对应的 hello.jsp 。
</code></pre><h2 id="Spring-MVC资源绑定视图解析器"><a href="#Spring-MVC资源绑定视图解析器" class="headerlink" title="Spring MVC资源绑定视图解析器"></a>Spring MVC资源绑定视图解析器</h2><p>配置文件如下：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.ResourceBundleViewResolver"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"basename"</span> <span class="attr">value</span>=<span class="string">"views"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>views.properties文件如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hello.(class)=org.springframework.web.servlet.view.JstlView</span><br><span class="line">hello.url=/WEB-INF/jsp/hello.jsp</span><br></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/SpringMVC/">SpringMVC</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/04/23/SpringMVC控制器/" title="SpringMVC控制器" itemprop="url">SpringMVC控制器</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="赵成龙" target="_blank" itemprop="author">赵成龙</a>
		
  <p class="article-time">
    <time datetime="2018-04-23T05:45:59.000Z" itemprop="datePublished"> Published 2018-04-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Spring MVC控制器</p>
<h2 id="Spring-MVC多动作控制器（）"><a href="#Spring-MVC多动作控制器（）" class="headerlink" title="Spring MVC多动作控制器（）"></a>Spring MVC多动作控制器（）</h2><h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"/home.html"</span> <span class="attr">class</span>=<span class="string">"com.yiibai.springmvc.UserController"</span> /&gt;</span> </span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"/user/*.html"</span> <span class="attr">class</span>=<span class="string">"com.yiibai.springmvc.UserController"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="控制器类"><a href="#控制器类" class="headerlink" title="控制器类"></a>控制器类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yiibai.springmvc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.mvc.multiaction.MultiActionController;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> <span class="keyword">extends</span> <span class="title">MultiActionController</span></span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">home</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">      HttpServletResponse response)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">      ModelAndView model = <span class="keyword">new</span> ModelAndView(<span class="string">"home"</span>);</span><br><span class="line">      model.addObject(<span class="string">"message"</span>, <span class="string">"Home"</span>);</span><br><span class="line">      <span class="keyword">return</span> model;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">add</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">      HttpServletResponse response)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">      ModelAndView model = <span class="keyword">new</span> ModelAndView(<span class="string">"user"</span>);</span><br><span class="line">      model.addObject(<span class="string">"message"</span>, <span class="string">"Add"</span>);</span><br><span class="line">      <span class="keyword">return</span> model;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">remove</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">      HttpServletResponse response)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">      ModelAndView model = <span class="keyword">new</span> ModelAndView(<span class="string">"user"</span>);</span><br><span class="line">      model.addObject(<span class="string">"message"</span>, <span class="string">"Remove"</span>);</span><br><span class="line">      <span class="keyword">return</span> model;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>关于上方的说明：</p>
<ul>
<li>在配置文件中使用 BeanNameUrlHandlerMapping。基于该规则来处理映射。<br>使用如下:<br>对于/home.html请求，DispatcherServlet将请求转发到UserController类的 home()方法。<br>对于user/add.html，DispatcherServlet将请求转发到UserController类的 add()方法。<br>对于user/remove.html，DispatcherServlet将请求转发到UserController类的 remove()方法。</li>
<li>对于控制器，该类实现了MultiActionController类，该类用于在单个控制器中分别映射多个URL到对应的方法 </li>
</ul>
<p>说明[上一节ControllerClassNameHandlerMapping][<a href="https://zcl2015.github.io/2018/04/23/SpringMVC处理映射/]" target="_blank" rel="noopener">https://zcl2015.github.io/2018/04/23/SpringMVC处理映射/]</a> 中尝试在配置文件中使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean name=&quot;xxx&quot; class=&quot;com.yiibai.springmvc.HelloController&quot; /&gt;</span><br></pre></td></tr></table></figure></p>
<p>并不会跳转。</p>
<h2 id="Spring-MVC属性方法名称解析器"><a href="#Spring-MVC属性方法名称解析器" class="headerlink" title="Spring MVC属性方法名称解析器"></a>Spring MVC属性方法名称解析器</h2><h3 id="配置文件-1"><a href="#配置文件-1" class="headerlink" title="配置文件"></a>配置文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean class=&quot;org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping&quot;&gt; </span><br><span class="line">      &lt;property name=&quot;caseSensitive&quot; value=&quot;true&quot; /&gt;</span><br><span class="line">&lt;/bean&gt; </span><br><span class="line">&lt;bean class=&quot;com.yiibai.springmvc.UserController&quot;&gt;</span><br><span class="line">   &lt;property name=&quot;methodNameResolver&quot;&gt;</span><br><span class="line">      &lt;bean class=&quot;org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver&quot;&gt;</span><br><span class="line">         &lt;property name=&quot;mappings&quot;&gt;</span><br><span class="line">            &lt;props&gt;</span><br><span class="line">               &lt;prop key=&quot;/user/home.html&quot;&gt;home&lt;/prop&gt;</span><br><span class="line">               &lt;prop key=&quot;/user/add.html&quot;&gt;add&lt;/prop&gt;</span><br><span class="line">               &lt;prop key=&quot;/user/update.html&quot;&gt;update&lt;/prop&gt;      </span><br><span class="line">            &lt;/props&gt;</span><br><span class="line">         &lt;/property&gt;</span><br><span class="line">      &lt;/bean&gt;</span><br><span class="line">   &lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
<p>使用上面的配置，如果URI：</p>
<ul>
<li>对于/user/home.html请求，DispatcherServlet将请求转发到UserController类的 home()方法。</li>
<li>对于user/add.html，DispatcherServlet将请求转发到UserController类的 add()方法。</li>
<li>对于user/remove.html，DispatcherServlet将请求转发到UserController类的 remove()方法。</li>
</ul>
<p>此处配置与之前的配置有点类似但并不相同。可以[看一下][<a href="https://zcl2015.github.io/2018/04/23/SpringMVC%E5%A4%84%E7%90%86%E6%98%A0%E5%B0%84/]" target="_blank" rel="noopener">https://zcl2015.github.io/2018/04/23/SpringMVC%E5%A4%84%E7%90%86%E6%98%A0%E5%B0%84/]</a></p>
<h2 id="Spring-MVC参数方法名称解析器（todo）"><a href="#Spring-MVC参数方法名称解析器（todo）" class="headerlink" title="Spring MVC参数方法名称解析器（todo）"></a>Spring MVC参数方法名称解析器（todo）</h2><h2 id="Spring-MVC可参数化的视图控制器（todo）"><a href="#Spring-MVC可参数化的视图控制器（todo）" class="headerlink" title="Spring MVC可参数化的视图控制器（todo）"></a>Spring MVC可参数化的视图控制器（todo）</h2>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/SpringMVC/">SpringMVC</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/04/23/SpringMVC处理映射/" title="SpringMVC处理映射" itemprop="url">SpringMVC处理映射</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="赵成龙" target="_blank" itemprop="author">赵成龙</a>
		
  <p class="article-time">
    <time datetime="2018-04-23T04:19:47.000Z" itemprop="datePublished"> Published 2018-04-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="Spring-MVC控制器类名称处理映射"><a href="#Spring-MVC控制器类名称处理映射" class="headerlink" title="Spring MVC控制器类名称处理映射"></a>Spring MVC控制器类名称处理映射</h2><h3 id="ControllerClassNameHandlerMapping"><a href="#ControllerClassNameHandlerMapping" class="headerlink" title="ControllerClassNameHandlerMapping"></a>ControllerClassNameHandlerMapping</h3><pre><code>ControllerClassNameHandlerMapping类是基于约定的处理程序映射类，它将URL请求映射到配置中提到的控制器的名称。这个类接受控制器名称并将其转换为带有前导“/”的小写形式。 例如HelloController映射到URL: &quot;/hello*&quot;。
</code></pre><p>配置如下</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefix"</span> <span class="attr">value</span>=<span class="string">"/WEB-INF/jsp/"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suffix"</span> <span class="attr">value</span>=<span class="string">".jsp"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 此处的匹配是略微带有正则表达式部分匹配的映射。匹配的表达式部分是XxxController 中的Xxx，匹配的内容是前缀带有xxx的部分 helloSky或者helloSky.html都可以匹配到</span></span><br><span class="line"><span class="comment">HelloController中的handleRequest方法，该方法继承自抽象类AbstractController</span></span><br><span class="line"><span class="comment">         --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"com.yiibai.springmvc.HelloController"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"com.yiibai.springmvc.WelcomeController"</span>/&gt;</span>   </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>说明: 如果使用上面的配置，URI：</p>
<ul>
<li>对于/helloWorld.html或 /hello{任何字母}.html，DispatcherServlet将请求转发到HelloController类。</li>
<li>对于/welcome.html，DispatcherServlet会将请求转发给WelcomeController类。</li>
</ul>
<p>简而言之 helloxxx都会由HelloController来处理。</p>
<h3 id="基于ControllerClassNameHandlerMapping来定义Controller类"><a href="#基于ControllerClassNameHandlerMapping来定义Controller类" class="headerlink" title="基于ControllerClassNameHandlerMapping来定义Controller类"></a>基于ControllerClassNameHandlerMapping来定义Controller类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yiibai.springmvc;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.mvc.AbstractController;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> <span class="keyword">extends</span> <span class="title">AbstractController</span></span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> ModelAndView <span class="title">handleRequestInternal</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">      HttpServletResponse response)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">      ModelAndView model = <span class="keyword">new</span> ModelAndView(<span class="string">"hello"</span>);</span><br><span class="line">                            <span class="comment">//viewName 查看源代码 设置视图 也就是对应下方的hello.jsp</span></span><br><span class="line">      model.addObject(<span class="string">"message"</span>, <span class="string">"Hello--Via HelloController with helloxxx "</span>);</span><br><span class="line">      <span class="keyword">return</span> model;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在之前关于SpringMVC的实例中，在web.xml文件中会添加以下的配置文件，而此处并没有如下的注释扫描配置。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 自动扫描beans </span></span><br><span class="line"><span class="comment">&lt;context：component-scan ...&gt;标签将用于激活Spring MVC注释扫描功能，</span></span><br><span class="line"><span class="comment">允许使用@Controller和@RequestMapping等注释。--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.yiibai"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>在上方的HelloController类中，该类继承自抽象类AbstractController，并实现该类的handleRequestInternal方法。没有使用@Controller和@RequestMapping等注释。因为HelloController已经以bean的形式添加到配置文件中。</p>
<h3 id="关于-ModelAndView-以及-ModelMap的使用说明"><a href="#关于-ModelAndView-以及-ModelMap的使用说明" class="headerlink" title="关于 ModelAndView 以及 ModelMap的使用说明"></a>关于 ModelAndView 以及 ModelMap的使用说明</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">printHello</span><span class="params">(ModelMap model)</span> </span>&#123;</span><br><span class="line">     model.addAttribute(<span class="string">"message"</span>, <span class="string">"Hello Spring MVC Framework!"</span>);</span><br><span class="line">     <span class="keyword">return</span> <span class="string">"helloSky"</span>;  </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">protected</span> ModelAndView <span class="title">handleRequestInternal</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">     HttpServletResponse response)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">     ModelAndView model = <span class="keyword">new</span> ModelAndView(<span class="string">"hello"</span>);</span><br><span class="line">                           <span class="comment">//viewName 查看源代码 设置视图 也就是对应下方的hello.jsp</span></span><br><span class="line">     model.addObject(<span class="string">"message"</span>, <span class="string">"Hello--Via HelloController with helloxxx "</span>);</span><br><span class="line">     <span class="keyword">return</span> model;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>使用ModelMap设置的只是属性名称和属性值，仍然需要一个return一个String值作为视图名称。而ModelAndView在构造方法中已经设置了视图的名称，并在addObject方法中设定了属性名称和属性值。</li>
<li>ModelMap：addAttribute   ModelAndView：addObject</li>
</ul>
<h2 id="Spring-MVC简单URL处理程序映射"><a href="#Spring-MVC简单URL处理程序映射" class="headerlink" title="Spring MVC简单URL处理程序映射"></a>Spring MVC简单URL处理程序映射</h2><h3 id="SimpleUrlHandlerMapping类分别显式地将URL映射到相应的控制器上"><a href="#SimpleUrlHandlerMapping类分别显式地将URL映射到相应的控制器上" class="headerlink" title="SimpleUrlHandlerMapping类分别显式地将URL映射到相应的控制器上"></a>SimpleUrlHandlerMapping类分别显式地将URL映射到相应的控制器上</h3><p>配置如下：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefix"</span> <span class="attr">value</span>=<span class="string">"/WEB-INF/jsp/"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suffix"</span> <span class="attr">value</span>=<span class="string">".jsp"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mappings"</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"/welcome.html"</span>&gt;</span>welcomeController<span class="tag">&lt;/<span class="name">prop</span>&gt;</span>           </span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"/helloWorld.html"</span>&gt;</span>helloController<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"helloController"</span> <span class="attr">class</span>=<span class="string">"com.yiibai.springmvc.HelloController"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"welcomeController"</span> <span class="attr">class</span>=<span class="string">"com.yiibai.springmvc.WelcomeController"</span>/&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>说明：使用上面的配置，如果URI：</p>
<ul>
<li>对于/helloWorld.html请求，DispatcherServlet将请求转发到HelloController类。</li>
<li>对于/welcome.html，DispatcherServlet会将请求转发给WelcomeController类。</li>
</ul>
<p>简易说明：上方的ControllerClassNameHandlerMapping是基于自身定义规则的模糊匹配，而SimpleUrlHandlerMapping是指定的显示匹配。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/SpringMVC/">SpringMVC</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/04/19/SpringMVC表单标签库/" title="SpringMVC表单标签库" itemprop="url">SpringMVC表单标签库</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="赵成龙" target="_blank" itemprop="author">赵成龙</a>
		
  <p class="article-time">
    <time datetime="2018-04-19T04:25:36.000Z" itemprop="datePublished"> Published 2018-04-19</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>SpringMVC表单标签库的使用</p>
<h2 id="Spring-MVC-表单标签库简述"><a href="#Spring-MVC-表单标签库简述" class="headerlink" title="Spring MVC 表单标签库简述"></a>Spring MVC 表单标签库简述</h2><p>   表单标签库主要用于网页中信息的获取。大体分为以下两个使用场景：</p>
<ol>
<li>登陆界面：网页的登陆界面需要用户输入用户信息，从而完成用户的信息验证以及与之相关的操作。</li>
<li>基于实际需要填写信息。例如注册页面的信息采集，网页中表单信息的采集。<br>基于以上考虑，标签在网页中使用非常普遍，应当熟练掌握。</li>
</ol>
<h2 id="Spring-MVC-表单标签库分类"><a href="#Spring-MVC-表单标签库分类" class="headerlink" title="Spring MVC 表单标签库分类"></a>Spring MVC 表单标签库分类</h2><h3 id="不需要外部数据标签"><a href="#不需要外部数据标签" class="headerlink" title="不需要外部数据标签"></a>不需要外部数据标签</h3><ol>
<li><p><strong>文本框</strong><br>使用&lt;form:input /&gt;标签来渲染一个HTML文本框。</p>
<pre><code>例如 -&lt;form:input path=&quot;Modelattribute&quot; /&gt;  
HTML它将生成以下HTML内容： 
&lt;input id=&quot;Modelattribute&quot; name=&quot;Modelattribute&quot; type=&quot;text&quot; value=&quot;&quot;/&gt; 
</code></pre><p>效果如下： <input id="Modelattribute" name="Modelattribute" type="text" value=""></p>
</li>
<li><p><strong>密码框</strong><br>使用&lt;form:password /&gt;标签来呈现HTML密码框。 </p>
<pre><code>例如 -&lt;form:password path=&quot;Modelattribute&quot; /&gt;
HTML它将呈现以下HTML内容:
&lt;input id=&quot;password&quot; name=&quot;password&quot; type=&quot;password&quot; value=&quot;&quot;/&gt;
</code></pre><p>效果如下：<input id="Modelattribute" name="Modelattribute" type="password" value=""></p>
</li>
<li><p><strong>文本域</strong><br>使用&lt;form:textarea /&gt;标签来呈现HTML密码框。</p>
<pre><code>例如 - &lt;form:textarea path=&quot;xxx&quot; rows=&quot;5&quot; cols=&quot;30&quot; /&gt;
HTML它将呈现以下HTML内容。
&lt;textarea id=&quot;Modelattribute&quot; name=&quot;Modelattribute&quot; rows=&quot;5&quot; cols=&quot;30&quot;&gt;
</code></pre><p>效果如下：<textarea id="Modelattribute" name="Modelattribute" rows="5" cols="30"></textarea></p>
</li>
</ol>
<ol start="4">
<li><p><strong>复选框 (单选)</strong><br>使用&lt;form:checkbox /&gt;标签来呈现HTML密码框。 </p>
<pre><code>例如 - &lt;form:checkbox path=&quot;Modelattribute&quot; /&gt;
HTML它将呈现以下HTML内容。
&lt;input id=&quot;Modelattribute&quot; name=&quot;Modelattribute&quot; type=&quot;checkbox&quot; value=&quot;true&quot;/&gt;
</code></pre><p>效果如下：</p>
   <input id="Modelattribute" name="Modelattribute" type="checkbox" value="true">
</li>
<li><p><strong>单选框</strong><br>使用&lt;form:radiobutton /&gt;标签来呈现HTML密码框。</p>
<pre><code>例如   &lt;form:radiobutton path=&quot;Modelattribute&quot; value=&quot;M&quot; label=&quot;男&quot; /&gt;  
      &lt;form:radiobutton path=&quot;Modelattribute&quot; value=&quot;F&quot; label=&quot;女&quot; /&gt;
HTML它将呈现以下HTML内容。
&lt;input id=&quot;gender1&quot; name=&quot;gender&quot; type=&quot;radio&quot; value=&quot;M&quot; checked=&quot;checked&quot;/&gt;&lt;label for=&quot;gender1&quot;&gt;男&lt;label&gt;
&lt;input id=&quot;gender2&quot; name=&quot;gender&quot; type=&quot;radio&quot; value=&quot;F&quot;/&gt;&lt;label for=&quot;gender2&quot;&gt;女&lt;/label&gt;
</code></pre><p>效果如下：<br> <input id="gender1" name="gender" type="radio" value="M" checked="checked"><label for="gender1">男<label><br> <input id="gender2" name="gender" type="radio" value="F"><label for="gender2">女</label></label></label></p>
</li>
<li><p><strong>隐藏字段域</strong><br>使用&lt;form:hidden /&gt;标签来呈现HTML隐藏字段域。</p>
<pre><code>例如 -&lt;form:hidden path=&quot;id&quot; value=&quot;1000&quot;/&gt;
HTML它将呈现以下HTML内容。
&lt;input id=&quot;id&quot; name=&quot;id&quot; type=&quot;hidden&quot; value=&quot;1000&quot;/&gt;
以下作为对比:
&lt;input id=&quot;id&quot; name=&quot;id&quot;  value=&quot;1000&quot;/&gt;
</code></pre><p>效果如下：<br> <input id="id" name="id" value="1000"></p>
 <input id="id" name="id" type="hidden" value="1000">

</li>
</ol>
<p>注：上方标签中的path分别指向Model类中的属性。</p>
<h3 id="需要外部数据标签"><a href="#需要外部数据标签" class="headerlink" title="需要外部数据标签"></a>需要外部数据标签</h3><ol>
<li><p><strong>复选框(多选)</strong></p>
<pre><code>使用&lt;form:checkboxes /&gt;标签来呈现HTML多个复选框。 
例如 -  
&lt;form:checkboxes items=&quot;${xxx}&quot; path=&quot;Modelshuxing&quot; /&gt;
其中xxx是在xxxController中使用@ModelAttribute(&quot;yyy&quot;)定义的。
</code></pre></li>
<li><p><strong>单选框(多个选项)</strong></p>
<pre><code>使用&lt;form:radiobuttons /&gt;标签来呈现HTML密码框。
例如 - 
&lt;form:radiobuttons items=&quot;${yyy}&quot; path=&quot;Modelshuxing&quot; /&gt;
其中xxx是在xxxController中使用@ModelAttribute(&quot;yyy&quot;)定义的。
</code></pre></li>
<li><p><strong>下拉框</strong></p>
<p> 使用&lt;form:select /&gt; , &lt;form:option /&gt; 和 &lt;form:options /&gt;标签来呈现HTML密码框。<br> 例如 - &lt;form:select path=”country”&gt;</p>
<pre><code>&lt;form:option value=&quot;NONE&quot; label=&quot;Select&quot;/&gt;
&lt;form:options items=&quot;${countryList}&quot; /&gt;&lt;/form:select&gt;
</code></pre><p>  HTML它将呈现以下HTML内容。</p>
<pre><code>&lt;select id=&quot;country&quot; name=&quot;country&quot;&gt;
&lt;option value=&quot;NONE&quot;&gt;请选择...&lt;/option&gt;
&lt;option value=&quot;US&quot;&gt;United States&lt;/option&gt;
&lt;option value=&quot;CH&quot;&gt;China&lt;/option&gt;
&lt;option value=&quot;MY&quot;&gt;Malaysia&lt;/option&gt;
&lt;option value=&quot;SG&quot;&gt;Singapore&lt;/option&gt;
&lt;/select&gt;
</code></pre></li>
<li><p><strong>列表多选框</strong></p>
<p> 使用&lt;form:select /&gt; 及其属性 multiple=true标签来呈现HTML列表多选框。<br> 例如 -<br> &lt;form:select path=”skills” items=”${xxx}” multiple=”true” /&gt;<br> HTML它将呈现以下HTML内容。</p>
 <select id="skills" name="skills" multiple="multiple"><br> <option value="Struts">Struts</option><br> <option value="Hibernate">Hibernate</option><br> <option value="Apache Wicket">Apache Hadoop</option><br> <option value="Spring">Spring</option><br> </select>
</li>
<li><p><strong>错误处理</strong>(todo)</p>
</li>
</ol>
<h3 id="如何配置标签所需的外部数据"><a href="#如何配置标签所需的外部数据" class="headerlink" title="如何配置标签所需的外部数据"></a>如何配置标签所需的外部数据</h3><pre><code>使用 @ModelAttribute(&quot;XXX&quot;)属性来配置外部数据。添加方式包括以下两种：
</code></pre><ol>
<li>使用List。此时List添加的元素就是数据源，也就是在页面中显示的数据。</li>
<li>使用Map。 此时Map中的key-value分别对应数据源-标签。</li>
</ol>
<p>以以下代码为例：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;tr&gt;</span><br><span class="line">         &lt;td&gt;&lt;form:label path="country"&gt;所在国家：(使用Map)&lt;/form:label&gt;&lt;/td&gt;</span><br><span class="line">         &lt;td&gt;&lt;form:select path=<span class="string">"country"</span>&gt;</span><br><span class="line">             &lt;form:option value=<span class="string">"NONE"</span> label=<span class="string">"请选择..."</span> /&gt;</span><br><span class="line">             &lt;form:options items=<span class="string">"$&#123;countryList&#125;"</span> /&gt;</span><br><span class="line">             &lt;/form:select&gt;&lt;/td&gt;</span><br><span class="line">   &lt;/tr&gt;</span><br><span class="line"></span><br><span class="line">     </span><br><span class="line">&lt;tr&gt;</span><br><span class="line">         &lt;td&gt;&lt;form:label path="country"&gt;所在国家：(使用list)&lt;/form:label&gt;&lt;/td&gt;</span><br><span class="line">         &lt;td&gt;&lt;form:select path=<span class="string">"country"</span>&gt;</span><br><span class="line">             &lt;form:option value=<span class="string">"NONE"</span> label=<span class="string">"请选择..."</span> /&gt;</span><br><span class="line">             &lt;form:options items=<span class="string">"$&#123;countryList1&#125;"</span> /&gt;</span><br><span class="line">             &lt;/form:select&gt;&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br></pre></td></tr></table></figure>
<p>其中上方代码的第一部分使用Map，第二部分使用List。数据源如下所示：</p>
<pre><code class="java"><span class="meta">@ModelAttribute</span>(<span class="string">"countryList1"</span>)
<span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getCountryList1</span><span class="params">()</span></span>
<span class="function">  </span>{
     List&lt;String&gt; webFrameworkList = <span class="keyword">new</span> ArrayList&lt;String&gt;();
     webFrameworkList.add(<span class="string">"United States"</span>);
     webFrameworkList.add(<span class="string">"China"</span>);
     webFrameworkList.add(<span class="string">"Singapore"</span>);
     webFrameworkList.add(<span class="string">"Malaysia"</span>);
     <span class="keyword">return</span> webFrameworkList;
  }

<span class="meta">@ModelAttribute</span>(<span class="string">"countryList"</span>)
<span class="function"><span class="keyword">public</span> Map&lt;String, String&gt; <span class="title">getCountryList</span><span class="params">()</span></span>
<span class="function">  </span>{
     Map&lt;String, String&gt; countryList = <span class="keyword">new</span> HashMap&lt;String, String&gt;();
     countryList.put(<span class="string">"US"</span>, <span class="string">"United States"</span>);
     countryList.put(<span class="string">"CH"</span>, <span class="string">"China"</span>);
     countryList.put(<span class="string">"SG"</span>, <span class="string">"Singapore"</span>);
     countryList.put(<span class="string">"MY"</span>, <span class="string">"Malaysia"</span>);
     <span class="keyword">return</span> countryList;
  }
</code></pre>
<p>效果如下：<br><img src="https://s1.ax1x.com/2018/04/23/CQ0MEq.png" alt="CQ0MEq.png"><br><img src="https://s1.ax1x.com/2018/04/23/CQ0QU0.png" alt="CQ0QU0.png"><br>如上图所示：对于List的数据来源，展示界面和最终的数据都是add（xxx）中添加的数据，对于map而言，展示中的数据是key-value中的value，而获取到的数据是key-value中的key。 </p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/SpringMVC/">SpringMVC</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/04/19/SpringMVC表单处理/" title="SpringMVC表单处理1" itemprop="url">SpringMVC表单处理1</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="赵成龙" target="_blank" itemprop="author">赵成龙</a>
		
  <p class="article-time">
    <time datetime="2018-04-19T03:29:56.000Z" itemprop="datePublished"> Published 2018-04-19</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>SpringMVC表单处理</p>
<h2 id="Spring-MVC-表单项目创建"><a href="#Spring-MVC-表单项目创建" class="headerlink" title="Spring MVC 表单项目创建"></a>Spring MVC 表单项目创建</h2><p><strong>以下示例演示如何编写一个简单的基于Web的应用程序，它使用Spring Web MVC框架使用HTML表单。 首先使用Eclipse IDE，并按照以下步骤使用Spring Web Framework开发基于动态表单的Web应用程序：</strong></p>
<ul>
<li>基于上一小节中的Spring MVC - HelloWeb实例章节所创建的 HelloWeb来创建。在com.yiibai.springmvc包下创建两个Java类Student，StudentController。分别作为MVC中的MOdell和Controller。</li>
<li>在jsp子文件夹下创建两个视图文件student.jsp，result.jsp。</li>
</ul>
<h2 id="关于Model类"><a href="#关于Model类" class="headerlink" title="关于Model类"></a>关于Model类</h2><h3 id="Model类的创建"><a href="#Model类的创建" class="headerlink" title="Model类的创建"></a>Model类的创建</h3><pre><code class="java"> <span class="keyword">package</span> com.yiibai.springmvc;
 <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>{
   <span class="keyword">private</span> Integer age;
   <span class="keyword">private</span> String name;
   <span class="keyword">private</span> Integer id;
   Student(){  <span class="comment">// a行</span>
   }
   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Integer age)</span> </span>{
      <span class="keyword">this</span>.age = age;
   }
   <span class="function"><span class="keyword">public</span> Integer <span class="title">getAge</span><span class="params">()</span> </span>{
      <span class="keyword">return</span> age;
   }

   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>{
      <span class="keyword">this</span>.name = name;
   }
   <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>{
      <span class="keyword">return</span> name;
   }

   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>{
      <span class="keyword">this</span>.id = id;
   }
   <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>{
      <span class="keyword">return</span> id;
   }
}

</code></pre>
<p><strong>关于上方a行的说明：一般情况下创建Model类时最好创建一个不带参数的构造方法。</strong></p>
<h2 id="关于Controller类"><a href="#关于Controller类" class="headerlink" title="关于Controller类"></a>关于Controller类</h2><h3 id="Controller类的创建"><a href="#Controller类的创建" class="headerlink" title="Controller类的创建"></a>Controller类的创建</h3><pre><code class="java"><span class="keyword">package</span> com.yiibai.springmvc;
<span class="keyword">import</span> org.springframework.stereotype.Controller;
<span class="keyword">import</span> org.springframework.web.bind.annotation.ModelAttribute;
<span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;
<span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMethod;
<span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;
<span class="keyword">import</span> org.springframework.ui.ModelMap;

<span class="meta">@Controller</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentController</span> </span>{

   <span class="meta">@RequestMapping</span>(value = <span class="string">"/student"</span>, method = RequestMethod.GET)
   <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">student</span><span class="params">()</span> </span>{
    <span class="keyword">return</span> <span class="keyword">new</span> ModelAndView(<span class="string">"student"</span>, <span class="string">"command"</span>, <span class="keyword">new</span> Student());
    <span class="comment">/* 我们已经在ModelAndView对象中传递了一个名为“command”的空对象，因为如果在JSP中使用&lt;form：form&gt;标签</span>
<span class="comment">     spring框架需要一个名为“command”的对象文件。 所以当调用student()方法时，它返回student.jsp视图。</span>
<span class="comment">       */</span>
   }
   <span class="meta">@RequestMapping</span>(value = <span class="string">"/addStudent"</span>, method = RequestMethod.POST)
   <span class="function"><span class="keyword">public</span> String <span class="title">addStudent</span><span class="params">(@ModelAttribute(<span class="string">"SpringWeb"</span>)</span>Student student, </span>
<span class="function">   ModelMap model) </span>{
      model.addAttribute(<span class="string">"name"</span>, student.getName());
      model.addAttribute(<span class="string">"age"</span>, student.getAge());
      model.addAttribute(<span class="string">"id"</span>, student.getId());
      <span class="keyword">return</span> <span class="string">"result"</span>;
   }
}
</code></pre>
<ul>
<li>关于上方的ModelAndView，查看源代码可知返回模型和视图。其中构造方法中第一个参数表示viewName,而第二个参数的作用是将第三个对象设置为Model。</li>
<li>关于上方的ModelAttribute。查看源代码可知，其作用是将方法参数或方法返回值绑定到(exposed to a web view)命名模型属性的注释。 其中的(“SpringWeb”)表示别名，可有可无。</li>
</ul>
<h2 id="关于视图类的创建"><a href="#关于视图类的创建" class="headerlink" title="关于视图类的创建"></a>关于视图类的创建</h2><h3 id="student-jsp"><a href="#student-jsp" class="headerlink" title="student.jsp"></a>student.jsp</h3><pre><code>&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; %&gt;
&lt;%@taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot;%&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Spring MVC表单处理&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h2&gt;Student Information&lt;/h2&gt;
&lt;form:form method=&quot;POST&quot; action=&quot;/HelloWeb/addStudent&quot;&gt;
&lt;table&gt;
&lt;tr&gt;
    &lt;td&gt;&lt;form:label path=&quot;name&quot;&gt;名字：&lt;/form:label&gt;&lt;/td&gt;
    &lt;td&gt;&lt;form:input path=&quot;name&quot; /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
    &lt;td&gt;&lt;form:label path=&quot;age&quot;&gt;年龄：&lt;/form:label&gt;&lt;/td&gt;
    &lt;td&gt;&lt;form:input path=&quot;age&quot; /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
    &lt;td&gt;&lt;form:label path=&quot;id&quot;&gt;编号：&lt;/form:label&gt;&lt;/td&gt;
    &lt;td&gt;&lt;form:input path=&quot;id&quot; /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
    &lt;td colspan=&quot;2&quot;&gt;
        &lt;input type=&quot;submit&quot; value=&quot;提交表单&quot;/&gt;
    &lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;  
/form:form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>关于上方的说明：</p>
<ul>
<li>form中的action：指明处理该请求的Controller /xxx/xxxx（其中xxx表示项目名称，比如此处既是HelloWeb，xxxx指明Controller的名称）</li>
<li>下方的table 其中的path属性分别为Model类中的属性，比如此处的name,age和id。经过测试发现数据类型和数据范围必须与Model类中定义的一致，否则会报错。</li>
<li>该视图提交后将交给addStudent控制器来处理，该控制器处理HTTP POST请求的服务方法.</li>
</ul>
<h3 id="result-jsp"><a href="#result-jsp" class="headerlink" title="result.jsp"></a>result.jsp</h3><pre><code>&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; %&gt;
&lt;%@taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot;%&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Spring MVC表单处理&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h2&gt;提交的学生信息如下 - &lt;/h2&gt;
&lt;table&gt;
&lt;tr&gt;
   &lt;td&gt;名称：&lt;/td&gt;
   &lt;td&gt;${name}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
   &lt;td&gt;年龄：&lt;/td&gt;
   &lt;td&gt;${age}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
   &lt;td&gt;编号：&lt;/td&gt;
   &lt;td&gt;${id}&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;  
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>此处仅仅作为结果的展示界面，用于将控制器addStudent中的数据进行展示。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/SpringMVC/">SpringMVC</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/"><span></span>Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  


  

  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Servlet简记/" title="Servlet简记">Servlet简记<sup>11</sup></a></li>
			
		
			
				<li><a href="/tags/SpringMVC/" title="SpringMVC">SpringMVC<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/Spring框架简记/" title="Spring框架简记">Spring框架简记<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/辅助类简记/" title="辅助类简记">辅助类简记<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/设计模式/" title="设计模式">设计模式<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/算法/" title="算法">算法<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/博客搭建简记/" title="博客搭建简记">博客搭建简记<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/数据库简记/" title="数据库简记">数据库简记<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">Weibo</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=&verifier=b3593ceb&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Larry Page in Google. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/2176287895" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2018 
		
		<a href="/about" target="_blank" title="赵成龙">赵成龙</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>












<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
